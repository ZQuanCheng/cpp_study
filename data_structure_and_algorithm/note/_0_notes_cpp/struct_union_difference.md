# 结构体 和 联合体 的区别

>
> ```c++
> struct 结构体类型名{  // 结构体类型名取名要“见名之其意” 如学生stu 书的信息bookcard
>     数据类型1  成员1;
>     数据类型2  成员2;
>     数据类型3  成员3;
> }
>  
> // 描述学生信息
> struct student{
>     char no[8];  // 学号  字符数组
>     char name[8];// 姓名   字符数组
>     float eng;   // 英语成绩
>     float math;  // 数学成绩
>     float ave;   // 平均成绩
> }
> 
> 
> 
> union 联合体名    // union 联合体声明的关键字   联合体名必须是合法的c语言标识符
> {
>     数据类型1 成员名1;   // 联合体类型成员可以是c语言中的任何一个数据类型
>     数据类型2 成员名2;
>     ....
>     数据类型n 成员名n; 
> }; // 此处的分号表示定义的联合体结束
>  
> /*
> 用户构造一个联合体后，可以像c语言提供的基本数据类型一样使用
> 可以用它来定义变量，数组等
> 注意：定义联合体时，系统不会为其分配存储空间，而是由该联合体类型定义的变量、数组等分配存储空间
> */
> union ucode
> {
>     char u1;
>     int u2;
>     long u3;
> };
> ```
> 
> `结构体（struct）`:用户自定义的可用的数据类型，允许`存储不同类型的数据`，结构体里的成员`按定义先后顺序存放`。
>
> `联合（union）`:联合（共同体）是一种特殊的数据类型，它允许您在`相同的内存位置存储不同数据类型的数据（但不同时）`，这样可以定义一个带有多成员的共用体，通过不同成员访问不同的存储空间。
>
> `联合所占的内存大小为空间内最大内存成员的内存大小；联合内的成员占用同一个内存空间`
>
> 
> 定义联合体时，系统不会为其分配存储空间，而是由该联合体类型定义的变量、数组等分配存储空间
>
> 结构体和联合体都是由多个不同的数据类型组成，结构体用来描述同一事物的不同属性，所以任意使用结构体的成员都存在，`对于结构体的不同成员赋值是互不影响的`。而联合体虽然也有多个成员，但在`任何同一时刻，对于联合体的不同成员赋值，将会对其他成员重写`，原来成员的值将会被覆盖，即`联合体中任一时刻只能存放一个被赋值的成员`。
> 
> `实际开发中，结构体类型应用比较多，而联合体主要是节约内存`。
> 
>
> 
>
> 




>
> <font color="yellow">结构体和联合两者的区别总结：</font>
>
> 结构体：`各成员各自拥有自己的内存`，各自使用互不干涉，同时存在的，`遵循内存对齐原则`。`一个struct变量的总长度等于所有成员的长度之和`。
> 
> 联合（覆盖）： `各成员共用一块内存空间`，并且同时只有一个成员可以得到这块内存的使用权(对该内存的读写)，各变量共用一个内存首地址。因而，联合体比结构体更节约内存。`一个union变量的总长度至少能容纳最大的成员变量，而且要满足是所有成员变量类型大小的整数倍`。
>
> 




























